{
  "timestamp": "2026-03-01T07:23:38.092718",
  "system": {
    "hostname": "niteride-be-ppe",
    "kernel": "6.8.0-39-generic",
    "os": "Ubuntu 24.04.1 LTS",
    "arch": "x86_64",
    "uptime": "07:23:38 up 18 days, 20 min,  3 users,  load average: 0.07, 0.06, 0.02",
    "load_average": "0.07, 0.06, 0.02"
  },
  "memory": {
    "total_bytes": 6189203456,
    "used_bytes": 1465688064,
    "free_bytes": 191307776,
    "available_bytes": 4723515392
  },
  "disk": [
    {
      "source": "/dev/mapper/hk-root",
      "fstype": "ext4",
      "size_bytes": 125652185088,
      "used_bytes": 49493491712,
      "available_bytes": 70903934976,
      "percent_used": 42,
      "mount_point": "/"
    },
    {
      "source": "/dev/sda1",
      "fstype": "ext4",
      "size_bytes": 1036431360,
      "used_bytes": 240250880,
      "available_bytes": 725770240,
      "percent_used": 25,
      "mount_point": "/boot"
    }
  ],
  "ports": [
    {
      "port": 1935,
      "address": "0.0.0.0",
      "process": "nginx",
      "pid": 1420688
    },
    {
      "port": 53,
      "address": "127.0.0.53%lo",
      "process": "systemd-resolve",
      "pid": 25980
    },
    {
      "port": 8444,
      "address": "127.0.0.1",
      "process": "tusd",
      "pid": 72640
    },
    {
      "port": 5432,
      "address": "0.0.0.0",
      "process": "postgres",
      "pid": 1424450
    },
    {
      "port": 631,
      "address": "0.0.0.0",
      "process": "cupsd",
      "pid": 414964
    },
    {
      "port": 443,
      "address": "0.0.0.0",
      "process": "nginx",
      "pid": 1420688
    },
    {
      "port": 80,
      "address": "0.0.0.0",
      "process": "nginx",
      "pid": 1420688
    },
    {
      "port": 6379,
      "address": "127.0.0.1",
      "process": "redis-server",
      "pid": 1424456
    },
    {
      "port": 3002,
      "address": "0.0.0.0",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 53,
      "address": "127.0.0.54",
      "process": "systemd-resolve",
      "pid": 25980
    },
    {
      "port": 1936,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 5432,
      "address": "[::]",
      "process": "postgres",
      "pid": 1424450
    },
    {
      "port": 9100,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9050,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9065,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9070,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9003,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9004,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 631,
      "address": "[::]",
      "process": "cupsd",
      "pid": 414964
    },
    {
      "port": 22,
      "address": "*",
      "process": "sshd",
      "pid": 25963
    },
    {
      "port": 6379,
      "address": "[::1]",
      "process": "redis-server",
      "pid": 1424456
    },
    {
      "port": 3005,
      "address": "*",
      "process": "unknown",
      "pid": 0
    }
  ],
  "pm2": [
    {
      "name": "playlist-generator-ch1",
      "pid": 1420718,
      "status": "online",
      "memory": 82001920,
      "cpu": 2.7,
      "restarts": 17,
      "port": 9050
    },
    {
      "name": "stream-guard",
      "pid": 1420719,
      "status": "online",
      "memory": 82362368,
      "cpu": 0,
      "restarts": 0
    },
    {
      "name": "stream-monitor",
      "pid": 1420732,
      "status": "online",
      "memory": 78450688,
      "cpu": 0,
      "restarts": 0
    },
    {
      "name": "cdn-prewarmer",
      "pid": 1420733,
      "status": "online",
      "memory": 117465088,
      "cpu": 0,
      "restarts": 1
    },
    {
      "name": "content-segmenter",
      "pid": 1420746,
      "status": "online",
      "memory": 84000768,
      "cpu": 0,
      "restarts": 0
    },
    {
      "name": "streaming-core",
      "pid": 0,
      "status": "stopped",
      "memory": 0,
      "cpu": 0,
      "restarts": 21
    },
    {
      "name": "admin-service",
      "pid": 1561180,
      "status": "online",
      "memory": 101842944,
      "cpu": 0,
      "restarts": 29,
      "port": 3002
    },
    {
      "name": "storage-service",
      "pid": 1420768,
      "status": "online",
      "memory": 123670528,
      "cpu": 0,
      "restarts": 1
    },
    {
      "name": "rtmp-receiver",
      "pid": 1420774,
      "status": "online",
      "memory": 86487040,
      "cpu": 0,
      "restarts": 0
    },
    {
      "name": "live-controller",
      "pid": 1420790,
      "status": "online",
      "memory": 75456512,
      "cpu": 0,
      "restarts": 0
    },
    {
      "name": "playlist-generator-ch2",
      "pid": 1420981,
      "status": "online",
      "memory": 76328960,
      "cpu": 0,
      "restarts": 4,
      "port": 9050
    },
    {
      "name": "streaming-core-ch2",
      "pid": 1420853,
      "status": "online",
      "memory": 106536960,
      "cpu": 0,
      "restarts": 5
    },
    {
      "name": "streaming-core-ch1",
      "pid": 1420814,
      "status": "online",
      "memory": 110551040,
      "cpu": 2.7,
      "restarts": 0
    }
  ],
  "docker_containers": [],
  "docker_compose": [],
  "systemd": [
    {
      "unit": "chrony.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "containerd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "dbus.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "docker.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "getty@tty1.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "multipathd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "networkd-dispatcher.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "nginx.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "polkit.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "postgresql@16-main.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "redis-server.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "snap.cups.cups-browsed.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "snap.cups.cupsd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "snapd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "ssh.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-journald.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-logind.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-networkd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-resolved.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-udevd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "tusd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "unattended-upgrades.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "user@0.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    }
  ],
  "nginx": {
    "installed": true,
    "version": "1.24.0 (Ubuntu)",
    "server_blocks": [
      {
        "listen": [],
        "server_name": [
          "api-ppe.niteride.fm",
          "82.22.53.161"
        ],
        "locations": [
          {
            "path": "/api/",
            "proxy_pass": "http://127.0.0.1:3002",
            "type": "proxy"
          }
        ]
      },
      {
        "listen": [
          "80"
        ],
        "server_name": [
          "api-ppe.niteride.fm",
          "82.22.53.161"
        ],
        "locations": []
      },
      {
        "listen": [
          "1935"
        ],
        "server_name": [],
        "locations": []
      }
    ],
    "proxy_destinations": [
      "http://127.0.0.1:3002"
    ],
    "config_preview": "# configuration file /etc/nginx/nginx.conf:\nuser www-data;\nworker_processes auto;\npid /run/nginx.pid;\nerror_log /var/log/nginx/error.log;\ninclude /etc/nginx/modules-enabled/*.conf;\n\nevents {\n\tworker_connections 768;\n\t# multi_accept on;\n}\n\nhttp {\n\n\t##\n\t# Basic Settings\n\t##\n\n\tsendfile on;\n\ttcp_nopush on;\n\ttypes_hash_max_size 2048;\n\t# server_tokens off;\n\n\t# server_names_hash_bucket_size 64;\n\t# server_name_in_redirect off;\n\n\tinclude /etc/nginx/mime.types;\n\tdefault_type application/octet-stream;\n\n\t##\n\t# SSL Settings\n\t##\n\n\tssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE\n\tssl_prefer_server_ciphers on;\n\n\t##\n\t# Logging Settings\n\t##\n\n\taccess_log /var/log/nginx/access.log;\n\n\t##\n\t# Gzip Settings\n\t##\n\n\tgzip on;\n\n\t# gzip_vary on;\n\t# gzip_proxied any;\n\t# gzip_comp_level 6;\n\t# gzip_buffers 16 8k;\n\t# gzip_http_version 1.1;\n\t# gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\n\t##\n\t# Virtual Host Configs\n\t##\n\n\tinclude /etc/nginx/conf.d/*.conf;\n\tinclude /etc/nginx/sites-enabled/*;\n}\n\n\n#mail {\n#\t# See sample authentication script at:\n#\t# http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript\n#\n#\t# auth_http localhost/auth.php;\n#\t# pop3_capabilities \"TOP\" \"USER\";\n#\t# imap_capabilities \"IMAP4rev1\" \"UIDPLUS\";\n#\n#\tserver {\n#\t\tlisten     localhost:110;\n#\t\tprotocol   pop3;\n#\t\tproxy      on;\n#\t}\n#\n#\tserver {\n#\t\tlisten     localhost:143;\n#\t\tprotocol   imap;\n#\t\tproxy      on;\n#\t}\n#}\n\ninclude /etc/nginx/rtmp.conf;\n\n# configuration file /etc/nginx/modules-enabled/50-mod-rtmp.conf:\nload_module modules/ngx_rtmp_module.so;\n\n# configuration file /etc/nginx/mime.types:\n\ntypes {\n    text/html                                        html htm shtml;\n    text/css                                         css;\n    text/xml                                         xml;\n    image/gif                                        gif;\n    image/jpeg                                       jpeg jpg;\n    application/javascript                           js;\n    application/atom+xml                             atom;\n    application/rss+xml                              rss;\n\n    text/mathml                                      mml;\n    text/plain                                       txt;\n    text/vnd.sun.j2me.app-descriptor                 jad;\n    text/vnd.wap.wml                                 wml;\n    text/x-component                                 htc;\n\n    image/avif                                       avif;\n    image/png                                        png;\n    image/svg+xml                                    svg svgz;\n    image/tiff                                       tif tiff;\n    image/vnd.wap.wbmp                               wbmp;\n    image/webp                                       webp;\n    image/x-icon                                     ico;\n    image/x-jng                                      jng;\n    image/x-ms-bmp                                   bmp;\n\n    font/w"
  },
  "cron": {
    "user_crontab": "",
    "system_cron_files": [
      "certbot",
      "e2scrub_all",
      "sysstat"
    ]
  },
  "env": {
    "env_file": "/opt/niteride/.env",
    "variables": {
      "NODE_ENV": "production",
      "DATABASE_URL": "postgresql://postgres:niteride_ppe_db_2026@localhost:5432/niteridefm_dev",
      "REDIS_URL": "redis://localhost:6379",
      "ADMIN_PORT": "3002",
      "LEMMY_API_URL": "https://grid.niteride.fm/api/v3",
      "LEMMY_CREDENTIAL_KEY": "[REDACTED]",
      "SERVICE_KEY": "[REDACTED]",
      "IDENTITY_SERVICE_URL": "http://82.22.53.147:3001",
      "CONTENT_SEGMENTER_URL": "http://localhost:3005",
      "CH2_REDIS_URL": "redis://:s8g%2FKtNhwqhQQFuGxVT6w6x2vEItRcSICVj5kPTxUTI%3D@82.22.53.167:6379",
      "SUPABASE_JWT_SECRET": "[REDACTED]"
    }
  },
  "connections": [
    {
      "from": "stream-guard",
      "to": "redis",
      "port": 6379,
      "type": "data"
    },
    {
      "from": "stream-monitor",
      "to": "redis",
      "port": 6379,
      "type": "data"
    },
    {
      "from": "streaming-core",
      "to": "redis",
      "port": 6379,
      "type": "data"
    },
    {
      "from": "streaming-core-ch2",
      "to": "redis",
      "port": 6379,
      "type": "data"
    },
    {
      "from": "streaming-core-ch1",
      "to": "redis",
      "port": 6379,
      "type": "data"
    },
    {
      "from": "admin-service",
      "to": "postgres",
      "port": 5432,
      "type": "data"
    },
    {
      "from": "storage-service",
      "to": "postgres",
      "port": 5432,
      "type": "data"
    },
    {
      "from": "admin-service",
      "to": "postgres",
      "port": 5432,
      "type": "data"
    },
    {
      "from": "storage-service",
      "to": "postgres",
      "port": 5432,
      "type": "data"
    },
    {
      "from": "nginx",
      "to": "http://127.0.0.1:3002",
      "port": 3002,
      "type": "proxy"
    }
  ],
  "external_services": [
    {
      "name": "Supabase",
      "type": "auth/database",
      "detected_in": ".env"
    }
  ]
}
