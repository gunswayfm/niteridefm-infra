{
  "timestamp": "2026-02-25T07:34:01.195521",
  "system": {
    "hostname": "niteride-fm-ch2",
    "kernel": "6.8.0-39-generic",
    "os": "Ubuntu 24.04.1 LTS",
    "arch": "x86_64",
    "uptime": "07:34:01 up 8 days, 12:05,  4 users,  load average: 0.11, 0.11, 0.25",
    "load_average": "0.11, 0.11, 0.25"
  },
  "memory": {
    "total_bytes": 16723750912,
    "used_bytes": 1243095040,
    "free_bytes": 340324352,
    "available_bytes": 15480655872
  },
  "disk": [
    {
      "source": "/dev/mapper/hk-root",
      "fstype": "ext4",
      "size_bytes": 167933390848,
      "used_bytes": 47615217664,
      "available_bytes": 113345470464,
      "percent_used": 30,
      "mount_point": "/"
    },
    {
      "source": "/dev/sda1",
      "fstype": "ext4",
      "size_bytes": 1036431360,
      "used_bytes": 240263168,
      "available_bytes": 725757952,
      "percent_used": 25,
      "mount_point": "/boot"
    }
  ],
  "ports": [
    {
      "port": 6379,
      "address": "0.0.0.0",
      "process": "redis-server",
      "pid": 58543
    },
    {
      "port": 53,
      "address": "127.0.0.53%lo",
      "process": "systemd-resolve",
      "pid": 58521
    },
    {
      "port": 80,
      "address": "0.0.0.0",
      "process": "nginx",
      "pid": 563150
    },
    {
      "port": 53,
      "address": "127.0.0.54",
      "process": "systemd-resolve",
      "pid": 58521
    },
    {
      "port": 22,
      "address": "*",
      "process": "sshd",
      "pid": 57897
    },
    {
      "port": 9100,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9050,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9060,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9061,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9070,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9004,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 9003,
      "address": "*",
      "process": "unknown",
      "pid": 0
    },
    {
      "port": 1936,
      "address": "*",
      "process": "unknown",
      "pid": 0
    }
  ],
  "pm2": [
    {
      "name": "playlist-generator-ch2",
      "pid": 563157,
      "status": "online",
      "memory": 82989056,
      "cpu": 0,
      "restarts": 7,
      "port": 9050
    },
    {
      "name": "streaming-core-ch2",
      "pid": 563158,
      "status": "online",
      "memory": 92680192,
      "cpu": 0,
      "restarts": 9
    },
    {
      "name": "stream-guard-ch2",
      "pid": 563180,
      "status": "online",
      "memory": 81944576,
      "cpu": 0,
      "restarts": 3
    },
    {
      "name": "stream-monitor-ch2",
      "pid": 563199,
      "status": "online",
      "memory": 81428480,
      "cpu": 0,
      "restarts": 1
    },
    {
      "name": "cdn-prewarmer-ch2",
      "pid": 563212,
      "status": "online",
      "memory": 76566528,
      "cpu": 0,
      "restarts": 1
    },
    {
      "name": "content-segmenter-ch2",
      "pid": 563224,
      "status": "online",
      "memory": 79859712,
      "cpu": 0,
      "restarts": 1
    },
    {
      "name": "storage-service-ch2",
      "pid": 563238,
      "status": "online",
      "memory": 136458240,
      "cpu": 0,
      "restarts": 3
    },
    {
      "name": "rtmp-receiver-ch2",
      "pid": 563252,
      "status": "online",
      "memory": 85336064,
      "cpu": 0,
      "restarts": 1
    },
    {
      "name": "live-controller-ch2",
      "pid": 563274,
      "status": "online",
      "memory": 73437184,
      "cpu": 0,
      "restarts": 1
    }
  ],
  "docker_containers": [],
  "docker_compose": [],
  "systemd": [
    {
      "unit": "chrony.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "containerd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "dbus.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "docker.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "getty@tty1.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "multipathd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "networkd-dispatcher.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "nginx.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "polkit.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "redis-server.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "ssh.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-journald.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-logind.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-networkd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-resolved.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "systemd-udevd.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "unattended-upgrades.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    },
    {
      "unit": "user@0.service",
      "load": "loaded",
      "active": "active",
      "sub": "running"
    }
  ],
  "nginx": {
    "installed": true,
    "version": "1.24.0 (Ubuntu)",
    "server_blocks": [
      {
        "listen": [
          "80 default_server"
        ],
        "server_name": [
          "cdn.niteride.fm",
          "_"
        ],
        "locations": [
          {
            "path": "/.well-known/acme-challenge/",
            "proxy_pass": null,
            "type": "static"
          },
          {
            "path": "/stream/",
            "proxy_pass": "http://localhost:9050/",
            "type": "proxy"
          }
        ]
      }
    ],
    "proxy_destinations": [
      "http://localhost:9050/"
    ],
    "config_preview": "# configuration file /etc/nginx/nginx.conf:\nuser www-data;\nworker_processes auto;\npid /run/nginx.pid;\nerror_log /var/log/nginx/error.log;\ninclude /etc/nginx/modules-enabled/*.conf;\n\nevents {\n\tworker_connections 768;\n\t# multi_accept on;\n}\n\nhttp {\n\n\t##\n\t# Basic Settings\n\t##\n\n\tsendfile on;\n\ttcp_nopush on;\n\ttypes_hash_max_size 2048;\n\t# server_tokens off;\n\n\t# server_names_hash_bucket_size 64;\n\t# server_name_in_redirect off;\n\n\tinclude /etc/nginx/mime.types;\n\tdefault_type application/octet-stream;\n\n\t##\n\t# SSL Settings\n\t##\n\n\tssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE\n\tssl_prefer_server_ciphers on;\n\n\t##\n\t# Logging Settings\n\t##\n\n\taccess_log /var/log/nginx/access.log;\n\n\t##\n\t# Gzip Settings\n\t##\n\n\tgzip on;\n\n\t# gzip_vary on;\n\t# gzip_proxied any;\n\t# gzip_comp_level 6;\n\t# gzip_buffers 16 8k;\n\t# gzip_http_version 1.1;\n\t# gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\n\t##\n\t# Virtual Host Configs\n\t##\n\n\tinclude /etc/nginx/conf.d/*.conf;\n\tinclude /etc/nginx/sites-enabled/*;\n}\n\n\n#mail {\n#\t# See sample authentication script at:\n#\t# http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript\n#\n#\t# auth_http localhost/auth.php;\n#\t# pop3_capabilities \"TOP\" \"USER\";\n#\t# imap_capabilities \"IMAP4rev1\" \"UIDPLUS\";\n#\n#\tserver {\n#\t\tlisten     localhost:110;\n#\t\tprotocol   pop3;\n#\t\tproxy      on;\n#\t}\n#\n#\tserver {\n#\t\tlisten     localhost:143;\n#\t\tprotocol   imap;\n#\t\tproxy      on;\n#\t}\n#}\n\n# configuration file /etc/nginx/mime.types:\n\ntypes {\n    text/html                                        html htm shtml;\n    text/css                                         css;\n    text/xml                                         xml;\n    image/gif                                        gif;\n    image/jpeg                                       jpeg jpg;\n    application/javascript                           js;\n    application/atom+xml                             atom;\n    application/rss+xml                              rss;\n\n    text/mathml                                      mml;\n    text/plain                                       txt;\n    text/vnd.sun.j2me.app-descriptor                 jad;\n    text/vnd.wap.wml                                 wml;\n    text/x-component                                 htc;\n\n    image/avif                                       avif;\n    image/png                                        png;\n    image/svg+xml                                    svg svgz;\n    image/tiff                                       tif tiff;\n    image/vnd.wap.wbmp                               wbmp;\n    image/webp                                       webp;\n    image/x-icon                                     ico;\n    image/x-jng                                      jng;\n    image/x-ms-bmp                                   bmp;\n\n    font/woff                                        woff;\n    font/woff2                                       woff2;\n\n    application/java-archive"
  },
  "cron": {
    "user_crontab": "",
    "system_cron_files": [
      "e2scrub_all"
    ]
  },
  "env": {
    "env_file": "/opt/niteride/.env",
    "variables": {
      "CHANNEL_ID": "2",
      "SEGMENT_BASE_URL": "/ch2-segments",
      "REDIS_URL": "redis://:s8g%2FKtNhwqhQQFuGxVT6w6x2vEItRcSICVj5kPTxUTI%3D@localhost:6379",
      "DATABASE_URL": "postgresql://postgres:xK8nP2vQm7R4wL9sT6yF3jH5bN1cV0zA@194.247.182.249:5432/niteridefm_dev",
      "S3_BUCKET": "bf712aba8-videolibrary",
      "S3_ENDPOINT": "https://s3-nl.hostkey.com",
      "S3_ACCESS_KEY": "[REDACTED]",
      "S3_SECRET_KEY": "[REDACTED]",
      "ADMIN_SERVICE_URL": "http://194.247.182.249:3002",
      "LEMMY_API_URL": "https://grid.niteride.fm/api/v3",
      "LEMMY_CREDENTIAL_KEY": "[REDACTED]",
      "IDENTITY_SERVICE_URL": "http://194.247.183.37:3001",
      "SERVICE_KEY": "[REDACTED]",
      "SUPABASE_JWT_SECRET": "[REDACTED]"
    }
  },
  "connections": [
    {
      "from": "streaming-core-ch2",
      "to": "redis",
      "port": 6379,
      "type": "data"
    },
    {
      "from": "stream-guard-ch2",
      "to": "redis",
      "port": 6379,
      "type": "data"
    },
    {
      "from": "stream-monitor-ch2",
      "to": "redis",
      "port": 6379,
      "type": "data"
    },
    {
      "from": "nginx",
      "to": "http://localhost:9050/",
      "port": 9050,
      "type": "proxy"
    }
  ],
  "external_services": [
    {
      "name": "Supabase",
      "type": "auth/database",
      "detected_in": ".env"
    },
    {
      "name": "Object Storage",
      "type": "storage",
      "detected_in": ".env"
    }
  ]
}
